<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Usuarios | EduFind</title>
	<!-- core:css -->
	<link rel="stylesheet" href="/vendors/core/core.css">
	<!-- endinject -->
	<!-- plugin css for this page -->
	<link rel="stylesheet" href="/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
	<link rel="stylesheet" href="/vendors/prismjs/themes/prism.css">

	<link rel="stylesheet" href="/vendors/bootstrap-datepicker/bootstrap-datepicker.min.css">
	<!-- end plugin css for this page -->
	<!-- inject:css -->
	<link rel="stylesheet" href="/fonts/feather-font/css/iconfont.css">
	<link rel="stylesheet" href="/vendors/flag-icon-css/css/flag-icon.min.css">
	<!-- endinject -->
	<!-- Layout styles -->
	<link rel="stylesheet" href="/css/demo_5/style.css">
	<!-- End layout styles -->
	<link rel="shortcut icon" href="/images/favicon.png" />

	<!-- Fix datatable -->
	<link rel="stylesheet" href="/css/demo_5/custom.css">
</head>

<body>
	<div class="main-wrapper">

		<!-- partial:../../partials/_navbar.html -->
		<div class="horizontal-menu">
			<nav class="navbar top-navbar">
				<div class="container">
					<div class="navbar-content">
						<a href="#" class="navbar-brand">
							Edu<span>Find</span>
						</a>



						<ul class="navbar-nav">

							<li class="nav-item dropdown nav-notifications d-none">
								<a class="nav-link dropdown-toggle" href="#" id="notificationDropdown" role="button"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<i data-feather="bell"></i>
									<div class="indicator">
										<div class="circle"></div>
									</div>
								</a>
								<div class="dropdown-menu" aria-labelledby="notificationDropdown">
									<div class="dropdown-header d-flex align-items-center justify-content-between">
										<p class="mb-0 font-weight-medium">6 New Notifications</p>
										<a href="javascript:;" class="text-muted">Clear all</a>
									</div>
									<div class="dropdown-body">
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="user-plus"></i>
											</div>
											<div class="content">
												<p>New customer registered</p>
												<p class="sub-text text-muted">2 sec ago</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="gift"></i>
											</div>
											<div class="content">
												<p>New Order Recieved</p>
												<p class="sub-text text-muted">30 min ago</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="alert-circle"></i>
											</div>
											<div class="content">
												<p>Server Limit Reached!</p>
												<p class="sub-text text-muted">1 hrs ago</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="layers"></i>
											</div>
											<div class="content">
												<p>Apps are ready for update</p>
												<p class="sub-text text-muted">5 hrs ago</p>
											</div>
										</a>
										<a href="javascript:;" class="dropdown-item">
											<div class="icon">
												<i data-feather="download"></i>
											</div>
											<div class="content">
												<p>Download completed</p>
												<p class="sub-text text-muted">6 hrs ago</p>
											</div>
										</a>
									</div>
									<div class="dropdown-footer d-flex align-items-center justify-content-center">
										<a href="javascript:;">View all</a>
									</div>
								</div>
							</li>

							<li class="nav-item dropdown nav-profile">
								<a class="nav-link dropdown-toggle" href="#" id="profileDropdown" role="button"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<img src="https://via.placeholder.com/30x30" alt="profile">
								</a>
								<div class="dropdown-menu" aria-labelledby="profileDropdown">
									<div class="dropdown-header d-flex flex-column align-items-center">
										<div class="figure mb-3">
											<img src="https://via.placeholder.com/80x80" alt="">
										</div>
										<div class="info text-center">
											<p class="name font-weight-bold mb-0" th:text="${user.firstName + ' ' + user.lastName}">Amiah Burton</p>
											<p class="email text-muted mb-3" th:text="${user.username}">amiahburton@gmail.com</p>
										</div>
									</div>
									<div class="dropdown-body">
										<ul class="profile-nav p-0 pt-3">
											<li class="nav-item">
												<a href="/admin/cuenta" class="nav-link">
													<i data-feather="user"></i>
													<span>Mi cuenta</span>
												</a>
											</li>

											<li class="nav-item">
												<form id="logoutForm" method="post" th:action="@{/logout}">
													<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
												</form>
												<a target="_blank" class="nav-link link-logout" onclick="document.forms['logoutForm'].submit()">
													<i data-feather="log-out"></i>
													<span>Cerrar sesión</span>
												</a>
											</li>
										</ul>
									</div>
								</div>
							</li>
						</ul>
						<button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
							data-toggle="horizontal-menu-toggle">
							<i data-feather="menu"></i>
						</button>
					</div>
				</div>
			</nav>
			<nav class="bottom-navbar">
				<div class="container">
					<ul class="nav page-navigation d-flex justify-content-start">
						<li class="nav-item mr-4">
							<a class="nav-link" href="/admin">
								<i class="link-icon" data-feather="home"></i>
								<span class="menu-title">Inicio</span>
							</a>
						</li>
						<li class="nav-item mr-4 active">
							<a href="/admin/usuarios" class="nav-link">
								<i class="link-icon" data-feather="users"></i>
								<span class="menu-title">Usuarios</span>
							</a>
						</li>
						<li class="nav-item mr-4 d-none">
							<a href="#" class="nav-link">
								<i class="link-icon" data-feather="book"></i>
								<span class="menu-title">Catálogo</span>
							</a>
						</li>
						<li class="nav-item mr-4">
							<a href="/admin/cuenta" class="nav-link">
								<i class="link-icon" data-feather="settings"></i>
								<span class="menu-title">Configuración</span></a>
						</li>
					</ul>
				</div>
			</nav>
		</div>
		<!-- partial -->

		<div class="page-wrapper">

			<div class="page-content">

				<nav class="page-breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="#">Usuarios</a></li>
						<li class="breadcrumb-item active" aria-current="page">Nuevo usuario</li>
					</ol>
				</nav>

				<div class="row">
					<div class="col-md-12 grid-margin stretch-card">
						<div class="card">
							<div class="card-header">
								<h6 class="card-title mb-0 mt-1">Nuevo usuario</h6>
							</div>
							<div class="card-body">

								<form class="forms-sample" method="post" th:object="${userDTO}" th:action="@{/admin/usuarios/nuevo}">
									<div class="form-group">
										<label for="selectTipoUsuario">Tipo</label>
										<select class="form-control" id="selectTipoUsuario" th:field="*{role}">
											<option th:each="role: ${roles}"
												th:value="${role.id}"
												th:utext="${#strings.substringAfter(role.name, '_')}">ADMIN</option>
										</select>
									</div>
									<div class="form-group">
										<label for="selectEstadoUsuario">Estado</label>
										<select class="form-control" id="selectEstadoUsuario" th:field="*{status}">
											<option value="1">ACTIVO</option>
											<option value="0">INACTIVO</option>
										</select>
									</div>
									<div class="form-group">
										<label for="inputCorreoUsuario">Correo</label>
										<input type="email" class="form-control" id="inputCorreoUsuario"
											autocomplete="off" placeholder="Correo" th:field="*{username}" required>
									</div>
									<div class="form-group" id="groupNombres">
										<label for="inputNombresUsuario">Nombres</label>
										<input type="text" class="form-control" id="inputNombresUsuario"
											autocomplete="off" placeholder="Nombres" th:field="*{firstName}" required>
									</div>
									<div class="form-group" id="groupApellidos">
										<label for="inputApellidosUsuario">Apellidos</label>
										<input type="text" class="form-control" id="inputApellidosUsuario"
											autocomplete="off" placeholder="Apellidos" th:field="*{lastName}" required>
									</div>
									<div class="form-group" id="groupNombre">
										<label for="inputNombreUsuario">Nombre</label>
										<input type="text" class="form-control" id="inputNombreUsuario"
											autocomplete="off" placeholder="Nombre" th:field="*{name}">
									</div>
									<div class="form-group" id="groupRUC">
										<label for="inputRUCUsuario">RUC</label>
										<input type="number" class="form-control" id="inputRUCUsuario"
											autocomplete="off" placeholder="RUC" th:field="*{ruc}">
									</div>
									<div class="form-group" id="groupTelefono">
										<label for="inputTelefonoUsuario">Teléfono</label>
										<input type="number" class="form-control" id="inputTelefonoUsuario"
											autocomplete="off" placeholder="Teléfono" th:field="*{phone}">
									</div>
									<div class="form-group">
										<label for="inputContrasenaUsuario">Contraseña</label>
										<input type="password" class="form-control" id="inputContrasenaUsuario"
											autocomplete="off" placeholder="Contraseña" th:field="*{password}" required>
									</div>

									<button type="submit" class="btn btn-primary mr-2 mt-3">Crear</button>
									<a href="/admin/usuarios" class="btn btn-light mt-3">Cancelar</a>
								</form>

							</div>
						</div>
					</div>
				</div>

			</div>

			<!-- Modal -->
			<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
				aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="deleteModalLabel">Confirmar</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							¿Está seguro de que desea eliminar el curso?
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
							<a type="button" class="btn btn-primary">Eliminar</a>
						</div>
					</div>
				</div>
			</div>
			<!-- end Modal -->

			<!-- partial:../../partials/_footer.html -->
			<footer class="footer d-flex flex-column flex-md-row align-items-center justify-content-between">
				<p class="text-muted text-center text-md-left">Copyright © 2021 <a href="#" target="_blank">EduFind</a>.
					Todos los derechos reservados</p>
				<p class="text-muted text-center text-md-left mb-0 d-none d-md-block">Desarrollado con <i
						class="mb-1 text-primary ml-1 icon-small" data-feather="heart"></i></p>
			</footer>
			<!-- partial -->

		</div>
	</div>

	<!-- core:js -->
	<script src="/vendors/core/core.js"></script>
	<!-- endinject -->
	<!-- plugin js for this page -->
	<script src="/vendors/datatables.net/jquery.dataTables.js"></script>
	<script src="/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>

	<script src="/vendors/prismjs/prism.js"></script>
	<script src="/vendors/clipboard/clipboard.min.js"></script>

	<script src="/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
	<script src="/vendors/bootstrap-datepicker/bootstrap-datepicker.es.min.js"></script>
	<!-- end plugin js for this page -->
	<!-- inject:js -->
	<script src="/vendors/feather-icons/feather.min.js"></script>
	<script src="/js/template.js"></script>
	<!-- endinject -->
	<!-- custom js for this page -->
	<script src="/js/data-table.js"></script>

	<script src="/js/datepicker.js"></script>
	<!-- end custom js for this page -->

	<script th:inline="javascript">
		$(function () {
			$('#groupNombres').removeClass('d-none');
			$('#groupApellidos').removeClass('d-none');
				
			$('#groupNombre').addClass('d-none');
			$('#groupRUC').addClass('d-none');
			$('#groupTelefono').addClass('d-none');
		});
	
		$('#selectTipoUsuario').change(function () {
			var value = $('#selectTipoUsuario option:selected').val();
			console.log(value)
			
			if (value == 3) {
				$('#groupNombres').addClass('d-none');
				$('#groupApellidos').addClass('d-none');
				
				$('#groupNombre').removeClass('d-none');
				$('#groupRUC').removeClass('d-none');
				$('#groupTelefono').removeClass('d-none');
				
				
				$('#inputNombresUsuario').removeAttr('required');
				$('#inputApellidosUsuario').removeAttr('required');
				
				$('#inputNombreUsuario').prop('required', true);
				$('#inputRUCUsuario').prop('required', true);
				$('#inputTelefonoUsuario').prop('required', true);
			} else {
				$('#groupNombres').removeClass('d-none');
				$('#groupApellidos').removeClass('d-none');
				
				$('#groupNombre').addClass('d-none');
				$('#groupRUC').addClass('d-none');
				$('#groupTelefono').addClass('d-none');
				
				
				$('#inputNombresUsuario').prop('required', true);
				$('#inputApellidosUsuario').prop('required', true);
				
				$('#inputNombreUsuario').removeAttr('required');
				$('#inputRUCUsuario').removeAttr('required');
				$('#inputTelefonoUsuario').removeAttr('required');
			}
		});
	</script>
</body>

</html>